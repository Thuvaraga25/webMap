<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width" />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-capable" content="yes" />

  <title>Shrimp Farming and Mangroves</title>

  <!-- Stylesheets -->
  <link rel="stylesheet" href="resources/ol.css" />
  <link rel="stylesheet" href="resources/fontawesome-all.min.css" />
  <link rel="stylesheet" href="resources/photon-geocoder-autocomplete.min.css" />
  <link rel="stylesheet" href="resources/ol-layerswitcher.css" />
  <link rel="stylesheet" href="resources/qgis2web.css" />

  <style>
    html, body, #map {
      width: 100%;
      height: 100%;
      margin: 0;
      padding: 0;
    }

    .map-title {
      position: absolute;
      top: 10px;
      left: 50%;
      transform: translateX(-50%);
      background: linear-gradient(135deg, #6dd5ed, #2193b0);
      color: #fff;
      padding: 14px 30px;
      font-size: 20px;
      font-weight: 600;
      font-family: 'Segoe UI', sans-serif;
      border-radius: 12px;
      z-index: 9999;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      border: 2px solid #fff;
      text-align: center;
    }

    .form-button {
      position: absolute;
      bottom: 10px;
      left: 10px;
      background-color: #b9fbc0;
      border: 1px solid #444;
      padding: 12px 18px;
      font-size: 14px;
      font-weight: bold;
      text-decoration: none;
      color: #000;
      border-radius: 6px;
      cursor: pointer;
      z-index: 9999;
      box-shadow: 2px 2px 4px rgba(0,0,0,0.2);
    }

    .form-button:hover {
      background-color: #94e9a9;
    }

    #form-container {
      display: none;
      position: absolute;
      bottom: 60px;
      left: 10px;
      width: 300px;
      height: 420px;
      background-color: white;
      border: 1px solid #444;
      box-shadow: 2px 2px 6px rgba(0,0,0,0.3);
      z-index: 9999;
      padding: 10px;
      border-radius: 8px;
      overflow-y: auto;
    }

    #form-container input,
    #form-container textarea,
    #form-container button {
      width: 100%;
      box-sizing: border-box;
    }

    .ol-popup {
      position: absolute;
      background-color: white;
      box-shadow: 0 1px 4px rgba(0,0,0,0.2);
      padding: 15px;
      border-radius: 10px;
      border: 1px solid #cccccc;
      bottom: 12px;
      left: -50px;
      min-width: 200px;
      z-index: 9999;
    }

    .ol-popup:after, .ol-popup:before {
      top: 100%;
      border: solid transparent;
      content: " ";
      height: 0;
      width: 0;
      position: absolute;
      pointer-events: none;
    }

    .ol-popup:after {
      border-top-color: white;
      border-width: 10px;
      left: 48px;
      margin-left: -10px;
    }

    .ol-popup:before {
      border-top-color: #cccccc;
      border-width: 11px;
      left: 48px;
      margin-left: -11px;
    }

    .ol-popup-closer {
      text-decoration: none;
      position: absolute;
      top: 2px;
      right: 8px;
    }

    .ol-popup-closer:after {
      content: "‚úñ";
    }
  </style>
</head>

<body>

  <div class="map-title">ü¶ê Shrimp Farming and Mangrove Interaction in <br>Puttalam & Mannar</div>

  <div class="form-button" onclick="toggleForm()">üìã Share Your Observations</div>

  <div id="form-container">
    <form action="https://formspree.io/f/mjkowded" method="POST">
      <h3>üìã Observation Form</h3>

      <label for="district">District Name:</label><br />
      <input type="text" name="district" id="district" required /><br /><br />

      <label for="location">Location:</label><br />
      <input type="text" name="location" id="location" /><br /><br />

      <label>Have you seen shrimp farms near mangroves?</label><br />
      <input type="radio" name="seen" value="Yes" required /> Yes
      <input type="radio" name="seen" value="No" /> No<br /><br />

      <label for="impact">What impacts do you observe?</label><br />
      <textarea name="impact" id="impact" rows="3"></textarea><br /><br />

      <label for="date">Date of Observation:</label><br />
      <input type="date" name="date" id="date" /><br /><br />

      <button type="submit" style="background-color:#4CAF50; color:white; padding:6px 12px; border:none; border-radius:4px; cursor:pointer;">Submit</button>
    </form>
  </div>

  <div id="map">
    <div id="popup" class="ol-popup">
      <a href="#" id="popup-closer" class="ol-popup-closer"></a>
      <div id="popup-content"></div>
    </div>
  </div>

  <!-- Toggle script -->
  <script>
    function toggleForm() {
      const formBox = document.getElementById("form-container");
      formBox.style.display = (formBox.style.display === "none" || formBox.style.display === "") ? "block" : "none";
    }
  </script>

  <!-- Scripts in correct order -->
  <script src="resources/qgis2web_expressions.js"></script>
  <script src="resources/functions.js"></script>
  <script src="resources/ol.js"></script>
  <script src="resources/ol-layerswitcher.js"></script>
  <script src="resources/photon-geocoder-autocomplete.min.js"></script>

  <!-- Layer scripts -->
  <script src="layers/Puttalam_DSD_Boundary_1.js"></script>
  <script src="layers/Mannar_DSD_Boundary_2.js"></script>
  <script src="layers/WilpaththuForest_3.js"></script>
  <script src="layers/Mangroves_4.js"></script>
  <script src="layers/Shrimpfarming_5.js"></script>
  <script src="layers/Shrimp_Farming_6.js"></script>

  <!-- Style scripts -->
  <script src="styles/Puttalam_DSD_Boundary_1_style.js"></script>
  <script src="styles/Mannar_DSD_Boundary_2_style.js"></script>
  <script src="styles/WilpaththuForest_3_style.js"></script>
  <script src="styles/Mangroves_4_style.js"></script>
  <script src="styles/Shrimpfarming_5_style.js"></script>
  <script src="styles/Shrimp_Farming_6_style.js"></script>

  <script src="layers/layers.js"></script>
  <script src="resources/Autolinker.min.js"></script>

  <!-- Main map script -->
  <script src="resources/qgis2web.js"></script>

</body>
</html>
